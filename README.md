# API для Yatube

### API для Django-проекта "Yatube" (version 1)

Данный проект является другим вариантом ранее написанного проекта Yatube: если первый вариант был написан с использованием шаблонов (https://github.com/tanja-ovc/yatube_django_templates), то в текущем проекте шаблоны не используется, вместо них написан API.

### Технологии

Проект написан с использованием Python 3.7 и Django REST Framework.


### Как запустить проект локально

Клонируйте репозиторий:

```git clone https://github.com/tanja-ovc/api_for_yatube.git```

Убедитесь, что находитесь в директории _api_for_yatube/_ либо перейдите в неё:

```cd api_for_yatube/```

Cоздайте виртуальное окружение:

```python3 -m venv venv```

Активируйте виртуальное окружение:

* Для Linux/Mac:
 
    ```source venv/bin/activate```

* Для Windows:

    ```source venv/Scripts/activate```

При необходимости обновите pip:

```pip install --upgrade pip```

Установите зависимости из файла requirements.txt:

```pip install -r requirements.txt```

Примените миграции:

```cd yatube_api/```

```python3 manage.py migrate```

Запустите проект:

```python3 manage.py runserver```

### Примеры запросов к API
Просмотр списка постов сайта (доступно всем):

```GET``` ```http://127.0.0.1:8000/api/v1/posts/```

Создание нового поста (доступно аутентифицированным пользователям):

```POST``` ```http://127.0.0.1:8000/api/v1/posts/```

Просмотр отдельного поста (доступно всем):

```GET``` ```http://127.0.0.1:8000/api/v1/posts/1/```

Изменение/удаление отдельного поста (доступно только автору поста):

```PATCH/PUT/DELETE``` ```http://127.0.0.1:8000/api/v1/posts/1/```

Просмотр списка комментариев к отдельному посту (доступно всем):

```GET``` ```http://127.0.0.1:8000/api/v1/posts/1/comments/```

...

Просмотр подписок текущего пользователя (доступно аутентифицированным пользователям):

```GET``` ```http://127.0.0.1:8000/api/v1/follow/```

Подписка (доступно аутентифицированным пользователям): 

```POST``` ```http://127.0.0.1:8000/api/v1/follow/```

В проекте подключена JWT-аутентификация: список эндпоинтов, касающихся юзера и аутентификации можно посмотреть здесь: https://djoser.readthedocs.io/en/latest/getting_started.html#available-endpoints. Здесь - https://djoser.readthedocs.io/en/latest/base_endpoints.html#base-endpoints - также более подробная информация об этих запросах (тип, тело запроса/ответа).


### Авторство

Автор: Татьяна Овчинникова

Тесты написаны командой Яндекс.Практикума.
